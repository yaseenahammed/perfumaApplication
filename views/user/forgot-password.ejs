<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Perfuma - Forgot Password</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body class="min-h-screen bg-gray-50">
    <div class="flex min-h-screen">
        <!-- Left Side - Full Image -->
        <div class="w-1/2 bg-gradient-to-br from-rose-100 to-amber-50 relative overflow-hidden">
            <div class="absolute inset-0 flex items-center justify-center">
                <img src="https://t3.ftcdn.net/jpg/08/32/30/12/360_F_832301227_1iQHc794dGkUn4VQLlarNKnV1UvpZSLq.jpg" alt="Perfuma Fragrance" class="w-full h-full object-cover">
            </div>
            <div class="absolute inset-0 bg-black bg-opacity-20"></div>
            <div class="absolute top-8 left-8">
                <a href="/" class="text-white hover:text-amber-200 transition duration-200">
                    <i class="fas fa-home text-xl"></i>
                </a>
            </div>
            <div class="absolute bottom-8 left-8 right-8 text-center">
                <div class="flex justify-center space-x-4 mb-4">
                    <div class="w-12 h-12 bg-white/30 rounded-full flex items-center justify-center backdrop-blur-sm">
                        <i class="fas fa-key text-lg text-white"></i>
                    </div>
                    <div class="w-12 h-12 bg-white/30 rounded-full flex items-center justify-center backdrop-blur-sm">
                        <i class="fas fa-shield-alt text-lg text-white"></i>
                    </div>
                    <div class="w-12 h-12 bg-white/30 rounded-full flex items-center justify-center backdrop-blur-sm">
                        <i class="fas fa-envelope text-lg text-white"></i>
                    </div>
                </div>
                <h3 class="text-white text-xl font-semibold">Password Recovery</h3>
                <p class="text-white/80 text-sm mt-2">Secure access to your account</p>
            </div>
        </div>

        <!-- Right Side - Forgot Password Form -->
        <div class="w-1/2 flex items-center justify-center p-8">
            <div class="max-w-md w-full space-y-8">
                <!-- Header -->
                <div class="text-center">
                    <h1 class="text-4xl font-bold text-gray-900 tracking-wide">PERFUMA</h1>
                    <p class="mt-2 text-gray-600">Reset your password</p>
                    <p class="mt-1 text-sm text-gray-500">Enter your email address and we'll send you a reset code</p>
                </div>

                <!-- Forgot Password Form -->
                <form method="post" action="/forgot-password" onsubmit="return validateLoginForm()" class="mt-8 space-y-6">
                    <!-- Email Field -->
                    <div>
                        <label for="email" class="block text-sm font-medium text-gray-700 mb-2">Email Address</label>
                        <div class="relative">
                            <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                                <i class="fas fa-envelope text-gray-400"></i>
                            </div>
                            <input 
                                id="email" 
                                name="email" 
                                type="email" 
                               
                                class="block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-transparent transition duration-200"
                                placeholder="Enter your email address"
                            >
                        </div>
                        <div class="error-message mt-1 text-sm text-red-600 hidden" id="email-error"></div>
                    </div>

                    <!-- Submit Button -->
                    <div>
                        <button 
                            type="submit" 
                            class="group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-gradient-to-r from-amber-500 to-orange-500 hover:from-amber-600 hover:to-orange-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-amber-500 transition duration-200 transform hover:scale-105"
                        >
                            <span class="flex items-center">
                                <i class="fas fa-paper-plane mr-2"></i>
                                Verify Email
                            </span>
                        </button>
                    </div>

                    <!-- Server Error Message -->
                    <% if (locals.message && message.length > 0) { %>
                    <div class="p-4 bg-red-50 border border-red-200 rounded-lg">
                        <div class="flex">
                            <i class="fas fa-exclamation-circle text-red-400 mr-2 mt-0.5"></i>
                            <p class="text-sm text-red-700"><%= message %></p>
                        </div>
                    </div>
                    <% } %>

                    <!-- Sign Up Link -->
                    <div class="text-center">
                        <p class="text-sm text-gray-600">
                            Don't have an account? 
                            <a href="/signup" class="font-medium text-amber-600 hover:text-amber-500 transition duration-200">
                                Sign up here
                            </a>
                        </p>
                    </div>

                    <!-- Back to Login -->
                    <div class="text-center">
                        <p class="text-sm text-gray-600">
                            Remember your password? 
                            <a href="/login" class="font-medium text-amber-600 hover:text-amber-500 transition duration-200">
                                Sign in here
                            </a>
                        </p>
                    </div>
                </form>

                <!-- Help Section -->
                <div class="mt-8 p-4 bg-blue-50 border border-blue-200 rounded-lg">
                    <div class="flex">
                        <i class="fas fa-info-circle text-blue-400 mr-2 mt-0.5"></i>
                        <div>
                            <p class="text-sm text-blue-700 font-medium">Need help?</p>
                            <p class="text-xs text-blue-600 mt-1">
                                If you don't receive an email within a few minutes, check your spam folder or 
                                <a href="/contact" class="underline hover:text-blue-800">contact support</a>
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        function validateLoginForm() {
            const emailInput = document.getElementById('email');
            const emailError = document.getElementById('email-error');
            const emailValue = emailInput.value.trim();
            const emailPattern = /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/;

            

            // Clear previous styling
            emailError.classList.add('hidden');
            emailInput.classList.remove('border-red-500', 'focus:ring-red-500');
            emailInput.classList.add('border-gray-300', 'focus:ring-amber-500');

            if (emailValue === '') {
                emailError.textContent = 'Please enter your email.';
                emailError.classList.remove('hidden');
                emailInput.classList.add('border-red-500', 'focus:ring-red-500');
                emailInput.classList.remove('border-gray-300', 'focus:ring-amber-500');
                return false;
            } else if (!emailValue.match(emailPattern)) {
                emailError.textContent = 'Please enter a valid email address.';
                emailError.classList.remove('hidden');
                emailInput.classList.add('border-red-500', 'focus:ring-red-500');
                emailInput.classList.remove('border-gray-300', 'focus:ring-amber-500');
                return false;
            } else {
                emailError.textContent = '';
                emailError.classList.add('hidden');
                emailInput.classList.remove('border-red-500', 'focus:ring-red-500');
                emailInput.classList.add('border-gray-300', 'focus:ring-amber-500');
                return true;
            }
        }

        // Clear errors when user starts typing
        document.getElementById('email').addEventListener('input', function() {
            const emailError = document.getElementById('email-error');
            const emailInput = document.getElementById('email');
            
            emailError.classList.add('hidden');
            emailInput.classList.remove('border-red-500', 'focus:ring-red-500');
            emailInput.classList.add('border-gray-300', 'focus:ring-amber-500');
        });

        // Focus on email input when page loads
        document.getElementById('email').focus();
    </script>
</body>
</html>